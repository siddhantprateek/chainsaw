################################################################################
#
#   SECTION: Organizations
#
################################################################################
Organizations:
  
  - &OrdererOrg
     	Name: OrdererOrg
      	ID: OrdererMSP
      	MSPDir: crypto-config/ordererOrganizations/example.com/msp

    	Policies:
        	Readers:
            	Type: Signature
            	Rule: "OR('OrdererMSP.member')"
          	Writer:
              	Type: Signature
              	Rule: "OR('OrdererMSP.member')" 
          	Admins:
              	Type: Signature
              	Rule: "OR('OrdererMSP.member')" 
  - &Org1
      	Name: Org1MSP
      	ID: Org1MSP
      	MSPDir: crypto-config/peerOrganizations/org1.example.com/msp

		Policies:
			Reader:
				Type: Signature
                Rule: "OR('Org1MSP.admin', 'Org1MSP.peer', 'Org1MSP.client')"
			Writer:
				Type: Signature
                Rule: "OR('Org1MSP.admin', 'Org1MSP.client')"
			Admins:
				Type: Signature
                Rule: "OR('Org1MSP.admin')"
			Endorsement:
				Type: Signture
                Rule: "OR('Org1MSP.peer')"
		
		AnchorPeers:
	  		- Host: peer0.org1.example.com
			  Port: 7051

	- &Org2
		Name: Org2MSP
		ID: Org2MSP
      	MSPDir: crypto-config/peerOrganizations/org2.example.com/msp

		Policies:
			Readers:
				Type: Signature
                Rule: "OR('Org1MSP.admin', 'Org1MSP.peer', 'Org1MSP.client')"
			Writer:
				Type: Signature
                Rule: "OR('Org1MSP.admin', 'Org1MSP.client')"
			Admins:
				Type: Signature
                Rule: "OR('Org1MSP.admin')"
			Endorsement:
				Type: Signature
                Rule: "OR('Org1MSP.peer')"

		AnchorPeer:
			- Host: peer0.org2.example.com
			  Port: 9051

################################################################################
#
#   SECTION: Capabilities
#
#   - Capabilities define features which must be present in a fabric binary for that
#   binary to safely participate in the fabric network.
#   
################################################################################
Capabilities:

	Channel: &ChannelCapabilites
		V2_0: true
	
	Orderer: &OrdererCapabilites
		V2_0: true

	Application: &ApplicationCapabilites
		V2_0: true


################################################################################
#
#   SECTION: Application
#   
################################################################################
Application:

    # Organizations is the list of orgs which are defined as participants on
    # the application side of the network
    Organizations:

    # Policies defines the set of policies at this level of the config tree
    # For Application policies, their canonical path is
    #   /Channel/Application/<PolicyName>
    Policies:
        Readers:
            Type: ImplicitMeta
            Rule: "ANY Readers"
        Writers:
            Type: ImplicitMeta
            Rule: "ANY Writers"
        Admins:
            Type: ImplicitMeta
            Rule: "MAJORITY Admins"
        LifecycleEndorsement:
            Type: ImplicitMeta
            Rule: "MAJORITY Endorsement"
        Endorsement:
            Type: ImplicitMeta
            Rule: "MAJORITY Endorsement"

    Capabilities:
        <<: *ApplicationCapabilities
